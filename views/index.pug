extends layout

block content
  .container
    h1.text-center Bienvenido a mi Blog
    .d-flex.justify-content-between.mb-4
      a.btn.btn-primary(href="/new") Crear nueva publicación
      a.btn.btn-secondary(href="/register") Registrarse
      a.btn.btn-info(href="/login") Iniciar sesión

    //- Formulario de búsqueda
    form(action="/search", method="GET").d-flex.justify-content-end.mb-4
      input.form-control(type="search", name="query", placeholder="Buscar publicaciones...", aria-label="Search", required)
      button.btn.btn-warning.ms-2(type="submit") Buscar

    //- Listado de publicaciones
    ul.list-group.mt-4
      each post in posts
        li.list-group-item
          .d-flex.justify-content-between.align-items-center
            h5.mb-0 #{post.title} - #{post.author}
            small.text-muted #{post.category}
          p.mt-2 #{post.content}

          //- Enlaces para editar y eliminar
          a.btn.btn-sm.btn-outline-primary.me-2(href=`/edit/${post.id}`) Editar
          a.btn.btn-sm.btn-outline-danger.me-2(href=`/delete/${post.id}`) Eliminar
          a.btn.btn-sm.btn-outline-info(href=`/comment/${post.id}`) Comentar

          //- Sección de comentarios (si hay comentarios)
          if post.comments.length > 0
            h6.mt-3 Comentarios:
            each comment in post.comments
              .border-top.pt-3
                p.mb-0
                  strong Autor: #{comment.text}

                //- Botones de reacción para los comentarios
                button.btn.btn-outline-success.btn-sm.me-2
                  i.fas.fa-thumbs-up
                  |  Me gusta
                button.btn.btn-outline-danger.btn-sm
                  i.fas.fa-thumbs-down
                  |  No me gusta


